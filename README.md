<h1 align="center">ğŸ”ï¸ Nepp-chan.ai</h1>

<p align="center">
  <strong>AI Deputy Mayor for Otoineppu Village</strong>
</p>

<p align="center">
  <a href="LICENSE"><img src="https://img.shields.io/badge/License-AGPLv3-blue.svg?style=for-the-badge" alt="AGPLv3 License"></a>
  <a href="https://github.com/kayac/nepp-chan/releases"><img src="https://img.shields.io/github/v/release/kayac/nepp-chan?include_prereleases&style=for-the-badge" alt="GitHub release"></a>
  <a href="https://web.nepp-chan.ai"><img src="https://img.shields.io/badge/Demo-Live-success?style=for-the-badge" alt="Live Demo"></a>
</p>

**Nepp-chan.ai** is a _community-native AI assistant_ for Otoineppu Village, Hokkaido. Trained on village-specific documents and local culture, Nepp-chan understands local contexts like community nicknames, shops, and winter snow removalâ€”enabling natural, warm conversations that generic AI cannot provide.

This is an **Open R&D project** that fully discloses our development process, serving as a model case for municipalities nationwide to introduce AI-based resident support at low cost.

[Live Demo](https://web.nepp-chan.ai) Â· [Getting Started](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—) Â· [Roadmap](#roadmap--ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³) Â· [æ—¥æœ¬èª](#about--æ¦‚è¦)

---

## About / æ¦‚è¦

**English**

Nepp-chan.ai is a community-native AI chat application serving Otoineppu Village, Hokkaidoâ€”one of Japan's smallest municipalities. Unlike generic AI assistants that lack local knowledge and warm conversational tones, Nepp-chan is trained directly on village-specific official documents and cultural contexts. This enables natural conversations about local nicknames, neighborhood shops, winter snow removal logistics, and community eventsâ€”the kind of contextual understanding that residents need but generic AI cannot provide.

Beyond typical FAQ automation, Nepp-chan engages in natural dialogue and serves as a friendly, accessible "AI Deputy Mayor" rather than just a search tool. The project is designed to be accessible to all residents, including those unfamiliar with digital technology, through progressive multi-channel rollout (web, mobile, LINE messaging, voice calls, and in-person kiosks).

This is an **Open R&D initiative** that fully discloses our development process, serving as a replicable model for municipalities nationwide facing similar challenges in resident engagement and administrative support. By sharing our trials and learnings, we aim to enable other municipalities to introduce AI-based resident support at low cost.

**æ—¥æœ¬èª**

åŒ—æµ·é“éŸ³å¨å­åºœæ‘ã®AIå‰¯æ‘é•·ã€Œã­ã£ã·ã¡ã‚ƒã‚“ã€ã¨ä¼šè©±ã§ãã‚‹ãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ä¸€èˆ¬çš„ãªAIã¯åœ°æ–¹ã®ç´°ã‹ãªæƒ…å ±ã«ç²¾é€šã—ã¦ãŠã‚‰ãšã€æ¸©ã‹ã¿ã®ã‚ã‚‹ä¼šè©±ã«ã‚‚ä¹ã—ã„ã¨ã„ã†èª²é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ã€Œã­ã£ã·ã¡ã‚ƒã‚“ã€ã¯ã€æ‘ç‹¬è‡ªã®å…¬çš„è³‡æ–™ã‹ã‚‰åœ°åŸŸæ–‡åŒ–ã¾ã§ç›´æ¥å­¦ç¿’ã™ã‚‹ã“ã¨ã§ã€åœ°å…ƒã®é€šç§°ã€ãŠåº—ã€å†¬ã®é™¤é›ªç›¸è«‡ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆãªã©ã€éŸ³å¨å­åºœæ‘ãªã‚‰ã§ã¯ã®æ–‡è„ˆã‚’æ·±ãç†è§£ã—ãŸè‡ªç„¶ãªå¯¾è©±ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

æ±ç”¨çš„ãªFAQè‡ªå‹•å¿œç­”AIã¨ã¯ç•°ãªã‚Šã€è‡ªç„¶ãªå¯¾è©±ã‚’é€šã˜ã¦æ°—è»½ã«ç›¸è«‡ã§ãã‚‹ã€ŒAIå‰¯æ‘é•·ã€ã¨ã„ã†è¦ªã—ã¿ã‚„ã™ã„å­˜åœ¨ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚ã¾ãŸã€ãƒ‡ã‚¸ã‚¿ãƒ«æ“ä½œã«ä¸æ…£ã‚Œãªæ–¹ã‚‚å–ã‚Šæ®‹ã•ãªã„ã‚ˆã†ã€Webãƒ»ãƒ¢ãƒã‚¤ãƒ«ãƒ»LINEãƒ»é›»è©±ãƒ»å¯¾é¢ãªã©ã€æ®µéšçš„ã«ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•ã‚’æ‹¡å¤§ã™ã‚‹äºˆå®šã§ã™ã€‚

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€å…¨å›½ã®è‡ªæ²»ä½“ãŒä½ã‚³ã‚¹ãƒˆã§ã€ŒAIã«ã‚ˆã‚‹ä½æ°‘æ”¯æ´ã€ã‚’å°å…¥ã§ãã‚‹ãƒ¢ãƒ‡ãƒ«ã‚±ãƒ¼ã‚¹ã¨ã—ã¦ã€é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã‚’å…¨é¢å…¬é–‹ã™ã‚‹**ã‚ªãƒ¼ãƒ—ãƒ³R&D**ã®å–ã‚Šçµ„ã¿ã§ã™ã€‚éŸ³å¨å­åºœæ‘ã§ã®è©¦è¡ŒéŒ¯èª¤ã‚’å…¬é–‹ã™ã‚‹ã“ã¨ã§ã€åŒæ§˜ã®èª²é¡Œã‚’æŠ±ãˆã‚‹è‡ªæ²»ä½“ã®æ¨ªå±•é–‹ã‚’æ”¯æ´ã—ã¾ã™ã€‚

---

## Features

- ğŸ˜ï¸ **Community-Native Knowledge** â€” Trained on village-specific documents, local culture, and daily contexts
- ğŸ“± **Multi-Channel Access** â€” Web, mobile, LINE messaging, voice calls, and in-person kiosks (progressive rollout)
- ğŸ¤ **Friendly Persona** â€” Not just a tool, but a community member with personality and warmth
- ğŸŒ **Open R&D** â€” Full source code disclosure for nationwide municipal adoption

---

## Roadmap / ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

- [x] **Phase 1**: Web/Mobile chat pilot (Current)
- [ ] **Phase 2**: LINE messaging + voice call support
- [ ] **Phase 3**: In-person kiosks at village hall and public facilities
- [ ] **Phase 4**: Anonymized conversation analytics for policy improvement
- [ ] **Vision**: "A municipality where every voice is heard"


## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Hono, Mastra
- **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **: Cloudflare Workers / Pages
- **AI**: Google Generative AI (Gemini)
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: React, Vite, TailwindCSS
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Cloudflare D1
- **è¨€èª**: TypeScript

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª                | èª¬æ˜                                        |
| --------------------------- | ------------------------------------------- |
| [server/](server/README.md) | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ APIï¼ˆCloudflare Workersï¼‰      |
| [web/](web/README.md)       | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ WEB ï¼ˆCloudflare Pagesï¼‰     |
| knowledge/                  | RAG ç”¨ãƒŠãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«                      |

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦æ¡ä»¶

- Node.js >= 22.13.0
- pnpm
- Cloudflare ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
pnpm install
```

### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

dotenvx ã§æš—å·åŒ–ã•ã‚ŒãŸ `.env` ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ã„ã¾ã™ã€‚å¾©å·åŒ–ã«ã¯ `.env.keys` ãŒå¿…è¦ã§ã™ã€‚

```text
/
â”œâ”€â”€ .env.keys              â† å¾©å·åŒ–ã‚­ãƒ¼
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ .env               â† é–‹ç™ºç’°å¢ƒ
â”‚   â””â”€â”€ .env.production    â† æœ¬ç•ªç’°å¢ƒ
â””â”€â”€ web/
    â”œâ”€â”€ .env               â† é–‹ç™ºç’°å¢ƒ
    â””â”€â”€ .env.production    â† æœ¬ç•ªç’°å¢ƒ
```

#### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

ãƒãƒ¼ãƒ ã‹ã‚‰ `.env.keys` ã‚’å—ã‘å–ã‚Šã€ãƒ«ãƒ¼ãƒˆã«é…ç½®ã€‚

#### dotenvx ã‚³ãƒãƒ³ãƒ‰

```bash
# æ–°ã—ã„å¤‰æ•°ã‚’è¿½åŠ ï¼ˆè‡ªå‹•ã§æš—å·åŒ–ï¼‰
dotenvx set NEW_VAR "value" -fk .env.keys -f server/.env

# å¾©å·åŒ–ã—ã¦ç¢ºèª
dotenvx run -fk .env.keys -f server/.env -- printenv NEW_VAR
```

### D1 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–

```bash
# é–‹ç™ºç’°å¢ƒï¼ˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨ï¼‰
cd server
pnpm db:migrate:local
```

## é–‹ç™º

```bash
# API ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm server:dev

# Web é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm web:dev

# Mastra Playground èµ·å‹•
pnpm mastra:dev
```

## ãƒ‡ãƒ—ãƒ­ã‚¤

### ç’°å¢ƒæ§‹æˆ

| ç’°å¢ƒ | ãƒ–ãƒ©ãƒ³ãƒ | Web URL | API URL |
|------|----------|---------|---------|
| ãƒ­ãƒ¼ã‚«ãƒ« | - | http://localhost:5173 | http://localhost:8787 |
| dev | develop | https://dev-web.nepp-chan.ai | https://dev-api.nepp-chan.ai |
| prd | main | https://web.nepp-chan.ai | https://api.nepp-chan.ai |

### æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# dev ç’°å¢ƒ
pnpm server:deploy
pnpm web:deploy

# prd ç’°å¢ƒ
pnpm server:deploy:production
pnpm web:deploy:production
```

### CI/CD

GitHub Actions ã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤:
- `develop` ãƒ–ãƒ©ãƒ³ãƒ push â†’ dev ç’°å¢ƒ
- `main` ãƒ–ãƒ©ãƒ³ãƒ push â†’ prd ç’°å¢ƒ
